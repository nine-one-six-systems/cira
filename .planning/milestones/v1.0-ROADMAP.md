# Milestone v1.0: Core Intelligence Platform

**Status:** SHIPPED 2026-01-19
**Phases:** 1-6
**Total Plans:** 30

## Overview

6 phases building toward a complete company intelligence research tool. CIRA enables users to research any company by entering a URL and receive a comprehensive intelligence brief with entity extraction, AI analysis, and multi-format export.

## Phases

### Phase 1: Web Crawling

**Goal**: Crawl company websites with intelligent prioritization, rate limiting, and robots.txt compliance.
**Requirements**: CRL-01 to CRL-07, API-01, API-03, API-04, UI-01, UI-02
**Plans**: 5 plans

Plans:
- [x] 01-01-PLAN.md — Crawl pipeline integration tests
- [x] 01-02-PLAN.md — API integration tests for company CRUD
- [x] 01-03-PLAN.md — Crawler edge case and robustness tests
- [x] 01-04-PLAN.md — Frontend component tests (AddCompany, Dashboard)
- [x] 01-05-PLAN.md — Verification and requirement mapping

**Verification:** 463 tests passing

**Deliverables:**
- Sitemap parser that discovers pages from sitemap.xml
- Playwright-based crawler for JavaScript-rendered content
- Rate limiter (1 req/sec, 3 concurrent max)
- robots.txt parser and compliance checker
- Page prioritization (about, team, products, contact first)
- Configuration options for max pages and depth
- External link extraction for social profiles

---

### Phase 2: Entity Extraction

**Goal**: Extract structured entities (people, organizations, products, contact info) from crawled pages using spaCy NLP.
**Requirements**: NER-01 to NER-07, API-10, UI-05
**Plans**: 5 plans

Plans:
- [x] 02-01-PLAN.md — Extraction pipeline integration tests
- [x] 02-02-PLAN.md — Entities API integration tests
- [x] 02-03-PLAN.md — Extraction edge case and robustness tests
- [x] 02-04-PLAN.md — Frontend entity browser tests
- [x] 02-05-PLAN.md — Verification and requirement mapping

**Verification:** 387 tests (370 passed, 17 skipped for spaCy model)

**Deliverables:**
- spaCy pipeline with en_core_web_lg model
- PERSON entity extraction with role detection
- ORG entity extraction with relationship context
- GPE (location) extraction for headquarters/offices
- PRODUCT entity extraction
- Structured data patterns (email, phone, address, social handles)
- Entity deduplication with confidence scoring
- Context snippet preservation (50 chars before/after)

---

### Phase 3: AI Analysis

**Goal**: Generate comprehensive intelligence summaries using Claude API with token tracking and cost estimation.
**Requirements**: ANA-01 to ANA-10, UI-03, UI-04
**Plans**: 5 plans

Plans:
- [x] 03-01-PLAN.md — Analysis pipeline integration tests
- [x] 03-02-PLAN.md — Tokens API integration tests
- [x] 03-03-PLAN.md — Analysis edge case and robustness tests
- [x] 03-04-PLAN.md — Frontend analysis UI tests
- [x] 03-05-PLAN.md — Phase verification and requirement mapping

**Verification:** 198 tests passing

**Deliverables:**
- Claude API integration via Anthropic SDK
- Prompt templates for each analysis section
- Executive summary generation
- Company overview section
- Business model & products section
- Team & leadership section
- Market position section
- Key insights section
- Red flags identification
- Token usage tracking per API call
- Cost estimation calculation

---

### Phase 4: State Management

**Goal**: Enable pause/resume functionality and checkpoint persistence for reliable long-running jobs.
**Requirements**: STA-01 to STA-05, API-05, API-06, API-07, UI-07
**Plans**: 5 plans

Plans:
- [x] 04-01-PLAN.md — Checkpoint/resume integration tests
- [x] 04-02-PLAN.md — Control API integration tests (pause, resume, progress)
- [x] 04-03-PLAN.md — State management edge case tests
- [x] 04-04-PLAN.md — Frontend pause/resume UI tests
- [x] 04-05-PLAN.md — Phase verification and requirement mapping

**Verification:** 233 tests passing

**Deliverables:**
- Checkpoint data model (pages visited, queued, entities, progress)
- Checkpoint persistence every 10 pages or 2 minutes
- Pause operation (save checkpoint, update status)
- Resume operation (load checkpoint, continue processing)
- Automatic recovery of in_progress jobs on startup
- Graceful timeout handling
- Redis keys for distributed locking

---

### Phase 5: Export

**Goal**: Export completed analyses in multiple formats following the 2-page summary template.
**Requirements**: EXP-01 to EXP-05, API-08, UI-06
**Plans**: 5 plans

Plans:
- [x] 05-01-PLAN.md — Export pipeline integration tests
- [x] 05-02-PLAN.md — Export API integration tests
- [x] 05-03-PLAN.md — Export edge case and robustness tests
- [x] 05-04-PLAN.md — Frontend export UI tests
- [x] 05-05-PLAN.md — Phase verification and requirement mapping

**Verification:** 161 tests passing

**Deliverables:**
- 2-page summary template structure
- Markdown exporter (UTF-8)
- Word exporter via python-docx
- PDF exporter via ReportLab
- JSON exporter with all structured data
- File download endpoint with content-type handling

---

### Phase 6: Batch Processing

**Goal**: Process multiple companies from CSV upload with queue management.
**Requirements**: BAT-01 to BAT-04, API-02, UI-08, UI-09, UI-10
**Plans**: 5 plans

Plans:
- [x] 06-01-PLAN.md — Batch pipeline integration tests
- [x] 06-02-PLAN.md — Batch API integration tests
- [x] 06-03-PLAN.md — Batch edge case and robustness tests
- [x] 06-04-PLAN.md — Frontend batch UI tests
- [x] 06-05-PLAN.md — Phase verification and requirement mapping

**Verification:** 230 tests passing

**Deliverables:**
- CSV parser with validation
- Batch upload endpoint (multipart/form-data)
- CSV template generation
- Error reporting per row
- Queue management for batch jobs
- Batch progress aggregation

---

## Milestone Summary

**Key Decisions:**
- Verification-first approach: Research found all functionality already implemented, plans focused on testing
- spaCy + Claude hybrid: spaCy for fast NER, Claude for contextual understanding
- 2-page summary format: Consistent, scannable output
- Checkpoint every 10 pages: Balance between I/O and recovery
- Polling for progress: Simpler than WebSocket, sufficient for UX

**Issues Resolved:**
- CSV UTF-8 BOM handling bug fixed in Phase 6
- Documentation checkboxes updated for Phase 2 requirements

**Technical Debt:**
- 17 spaCy tests skipped (require model installation in CI/CD)
- datetime deprecation warnings in entity_extractor.py

---

*Archived: 2026-01-19 as part of v1.0 milestone completion*
